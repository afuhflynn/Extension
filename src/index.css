@import "tailwindcss";

/* Custom theme variables */
:root {
  --recorder-secondary: #ef4444; /* red */
  --recorder-accent: #ef4444;
  --recorder-primary: #3b82f6; /* blue */
  --recorder-success: #10b981;
  --recorder-white: #ffffff;
  --recorder-background: #0f172a; /* darker slate */
  --recorder-text: #f9fafb;
}

@theme inline {
  --color-primary: var(--recorder-primary);
  --color-accent: var(--recorder-accent);
  --color-secondary: var(--recorder-secondary);
  --color-success: var(--recorder-success);
  --color-white: var(--recorder-white);
  --color-background: var(--recorder-background);
  --color-text: var(--recorder-text);
  --color-border: rgba(255, 255, 255, 0.06);
  --color-shadow: rgba(2, 6, 23, 0.6);
}

@layer base {
  .floating-panel {
    /* Always float above page UI */
    @apply fixed z-[9999999999] rounded-2xl animate-[slide-in_0.28s_ease-out];
    background-color: rgba(15, 23, 42, 0.95); /* dark translucent base */
    color: var(--recorder-white);
    border: 1px solid rgba(255, 255, 255, 0.06);
    box-shadow: 0 10px 30px rgba(2, 6, 23, 0.6), 0 2px 6px rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(6px);
  }

  .drag-handle {
    @apply cursor-move rounded-t-2xl px-4 py-3 flex items-center justify-between gap-2;
    border-bottom: 1px solid rgba(255, 255, 255, 0.04);
  }

  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 font-semibold rounded-xl transition-all duration-200;
    background: linear-gradient(180deg, var(--recorder-primary), #dc2626);
    color: var(--recorder-white);
    padding: 10px 18px;
    box-shadow: 0 10px 24px rgba(239, 68, 68, 0.18),
      inset 0 -2px 0 rgba(0, 0, 0, 0.08);
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2 font-semibold rounded-lg transition-all duration-200;
    background: linear-gradient(180deg, var(--recorder-primary), #2563eb);
    color: var(--recorder-white);
    padding: 8px 12px;
    box-shadow: 0 6px 18px rgba(37, 99, 235, 0.14);
  }

  .recording-indicator {
    width: 10px;
    height: 10px;
    border-radius: 9999px;
    background: var(--recorder-primary);
    box-shadow: 0 6px 18px rgba(239, 68, 68, 0.28),
      0 0 18px rgba(239, 68, 68, 0.12);
    animation: pulse-record 1.8s ease-in-out infinite;
  }

  .camera-preview {
    @apply fixed rounded-2xl overflow-hidden;
    background: linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.03),
      rgba(255, 255, 255, 0.02)
    );
    border: 2px solid rgba(255, 255, 255, 0.06);
    box-shadow: 0 14px 40px rgba(2, 6, 23, 0.7), 0 4px 12px rgba(0, 0, 0, 0.5);
    z-index: 9999999999;
  }

  .timer-display {
    @apply font-mono text-2xl font-bold tracking-wider;
    color: var(--recorder-white);
  }

  .quality-badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-medium;
    background: rgba(16, 185, 129, 0.12);
    color: #10b981;
  }

  /* Ensure UI elements accept pointer events and sit above page content */
  .floating-panel *,
  .camera-preview *,
  .modal-root * {
    pointer-events: auto;
  }

  /* Slight helper to ensure overlays are on top */
  .overlay-top {
    z-index: 9999999999 !important;
  }

  button {
    cursor: pointer;
  }
}

@keyframes pulse-record {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.05);
  }
}

@keyframes slide-in {
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
